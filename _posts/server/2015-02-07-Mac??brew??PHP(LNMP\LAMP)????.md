---
layout: post
title: Mac??brew??PHP(LNMP/LAMP)????
category: ???
tags: ???,LAMP,LNMP,Mac,brew
keywords: ???,LAMP,LNMP,Mac,brew
description: 
---

[??]

---

<blockquote>
  Mac???lamp?????????xampp?mamp?????????????????????????????????????????Mac????apache?php??brew??????????????????
</blockquote>

##[Brew][1]

        ruby -e "$(curl -fsSL https://raw.github.com/mxcl/homebrew/go/install)"


brew????

        brew install xxx
        brew uninstall xxx
        brew list 
        brew update xxx


##Apache || Nginx

###Apache

Apache????mac??????????????10.9???????????Apache

        sudo apachectl start
        sudo apachectl restart
        sudo apachectl stop


??????????mac???home???sites????????????

        http://localhost/~user_name


?????????????`/etc/apache2/httpd.conf`??

        DocumentRoot "/Users/username/Sites"
        &lt;Directory /&gt;
            Options Indexes MultiViews
            AllowOverride All
            Order allow,deny
            Allow from all
        &lt;/Directory&gt;


??sites????????????????????

###Nginx

???Nginx??????????

        brew install nginx


????Nginx????????????80??????????????

        #?? nginx
        sudo nginx
        #??????|??|??|?? nginx
        nginx -s reload|reopen|stop|quit
        #???????????
        nginx -t


??Nginx

        cd /usr/local/etc/nginx/
        mkdir conf.d


??Nginx????

        vim nginx.conf


??????????include

        worker_processes  1;  
        
        error_log       /usr/local/var/log/nginx/error.log warn;
        
        pid        /usr/local/var/run/nginx.pid;
        
        events {
            worker_connections  256;
        }
        
        http {
            include       mime.types;
            default_type  application/octet-stream;
        
            log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '
                              '$status $body_bytes_sent "$http_referer" '
                              '"$http_user_agent" "$http_x_forwarded_for"';
        
            access_log      /usr/local/var/log/nginx/access.log main;
            port_in_redirect off;
            sendfile        on; 
            keepalive_timeout  65; 
        
            include /usr/local/etc/nginx/conf.d/*.conf;
        }


???????

        vim ./conf.d/default.conf


????????

        server {
            listen       80;
            server_name  localhost;
        
            root /Users/username/Sites/; # ??????????????????
        
            location / { 
                index index.php;
                autoindex on; 
            }   
        
            #proxy the php scripts to php-fpm  
            location ~ \.php$ {
                include /usr/local/etc/nginx/fastcgi.conf;
                fastcgi_intercept_errors on; 
                fastcgi_pass   127.0.0.1:9000; 
            }   
        
        }


?????????php??????????php-fpm? ??mac 10.9???php-fpm?????????????PHP?PHP???php-fpm?????PHP??php-fpm?????????? ?????????????php????

        sudo nginx
        sudo php-fpm -D


##PHP

PHP?mac??????????????????brew???mac???????????????????php5.5

        brew update
        brew tap homebrew/dupes
        brew tap josegonzalez/homebrew-php
        # brew install php55 --with-fpm #Nginx
        brew install php55 #Apache


????php?cli???apache???php????.bashrc?.zshrc???????

        #export PATH="$(brew --prefix josegonzalez/php/php55)/bin:$PATH" 
        export PATH="/usr/local/bin:/usr/local/sbin:$PATH"


???????php???????cli?php??????/etc/apache2/httpd.conf???

        LoadModule php5_module /usr/local/Cellar/php55/5.5.8/libexec/apache2/libphp5.so


????apache???php????????? ?????mongo?mysql???????????????php??????????

        #brew install php55-mysql #???????????
        brew install php55-mongo


##MySQL

mac???mysql?????????????????

        brew install mysql
        unset TMPDIR
        mysql_install_db --verbose --user=`whoami` --basedir="$(brew --prefix mysql)" --datadir=/usr/local/var/mysql --tmpdir=/tmp
        sudo chown -R your_user /usr/local/var/mysql/


?????????????????????????

        mysql.server start


???mysql?????????

        mysqladmin -u root password 'xxx'


?????mysql?????/usr/local/etc?????my.cnf?????log

        [mysqld]
        general-log
        general_log_file = /usr/local/var/log/mysqld.log


##MongoDB

MongoDB???????????????

        brew install mongodb


????

        mongod --fork


##PHPMyAdmin

phpmyadmin?????mysql????web??????????????


* ?[??][2]??????? 
* ???~/Sites/phpmyadmin? 
* ?phpmyadmin??????????config?? 
* ??http://localhost/phpmyadmin/setup???????????????????????????? 
* ?config????config.inc.php??phpmyadmin???? 
* ??config 


??????????????????????????? ????????2002????????mysql.sock???????????

        sudo mkdir /var/mysql
        sudo ln -s /tmp/mysql.sock /var/mysql/mysql.sock


##RockMongo

RockMongo?MongoDB??????web?????????


* ?[??][3]?????? 
* ???~/Sites/rockmongo? 
* ??http://localhost/rockmongo?? 


##??

????mac??????php??????enjoy it!

##??


1.  [Hot to install nginx, PHP-fpm 5.5.6, mongo and MySql on mac with homebrew][4] 
2.  [Mac OSX 10.9??nginx+mysql+php-fpm??][5] 


</div>


[1]: http://brew.sh/
[2]: http://www.phpmyadmin.net/home_page/downloads.php
[3]: http://rockmongo.com/
[4]: http://www.nabito.net/hot-to-install-nginx-php-fpm-5-5-6-mongo-and-mysql-on-mac-with-homebrew/
[5]: http://my.oschina.net/chen0dgax/blog/190161
