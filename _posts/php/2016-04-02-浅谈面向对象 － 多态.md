---
layout: post
title: 浅谈面向对象 － 多态
category: PHP
tags: 面向对象,多态
keywords: 面向对象,多态
description: 
---

多态是对象行为的多种形态表现，在编程中很常见，开发者写出了多态代码却不知道这个概念的很多很多。

**优点**


* 同行为操作易扩展；
* 调用方便；


**缺点**


* 概念易混淆；
* 乱用多态来实现不同的行为；


**代码示例**

不用多态

        <?php
        class Coder 
        {
            public function playCode()
            {
                print_r("程序员在敲代码！    ");
            }
        }
        
        class Player
        {
            public function playBall()
            {
                print_r("球员在打球！    ");
            }
        }
        
        $coder = new Coder();
        $player = new Player();
        $coder->playCode();
        $player->playBall();


上面的代码可以看出两种职业人在工作，这是相同的行为，可使用多态来实现：

        <?php
        abstract class Professional
        {
            abstract public function play();
        }
        
        class Coder extends Professional
        {
            public function play()
            {
                print_r("程序员在敲代码！    ");
            }
        }
        
        class Player extends Professional
        {
            public function play()
            {
                print_r("球员在打球！    ");
            }
        }
        
        class Run
        {
            private $profess;
        
            public function __construct($profess)
            {
                $this->profess = $profess;
            }
        
            public function play()
            {
                if ($this->profess instanceof Professional) {
                    $this->profess->play();
                }
            }
        }
        
        $coder = new Run(new Coder);
        $coder->play();
        $player = new Run(new Player);
        $player->play();


上面的代码就是多态实现，是不是有点像策略模式；这样的好处就是再有这样的职业人添加进来只需要继承职业人类就可以实现相关的行为，那什么情况不能使用多态呢？

<blockquote>
  不同行为不可使用多态
</blockquote>

比如程序员在吃饭、球员在玩游戏，这两种行为抽象不出来他们的相同点，不能勉强进行多态化

**总结**

<blockquote>
  不要为了多态而多态
</blockquote>

